{
	"info": {
		"_postman_id": "641b0924-80a6-4b64-879f-e4584e50e01f",
		"name": "amtviolAPI",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "project",
			"item": [
				{
					"name": "projects",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "localhost:1337/api/projects",
							"host": [
								"localhost"
							],
							"port": "1337",
							"path": [
								"api",
								"projects"
							],
							"query": [
								{
									"key": "populate",
									"value": "*",
									"disabled": true
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "project",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"data\": {\r\n        \"title\": \"testproject3\",\r\n        \"plannedStart\": \"2022-04-02\",\r\n        \"plannedEnd\": \"2022-04-16\",\r\n        \"published\": true,\r\n        \"info\": {\r\n            \"contactName\": \"test\",\r\n            \"phone\": \"54646541\",\r\n            \"email\": \"test@test.com\",\r\n            \"location\": \"test\",\r\n            \"streetNo\": \"test\",\r\n            \"postalCode\": \"0099745\"\r\n        },\r\n        \"details\": {\r\n            \"content\": \"adasda\",\r\n            \"goals\": \"sdfsdf\",\r\n            \"valuesAndBenefits\": \"sdfsdf\",\r\n            \"partner\": \"asdasd\",\r\n            \"investive\": true,\r\n            \"status\": \"Development\"\r\n        },\r\n        \"estimatedCosts\": [\r\n            {\r\n                \"name\": \"blocks\",\r\n                \"price\": 1231\r\n            },\r\n            {\r\n                \"name\": \"cement\",\r\n                \"price\": 89754\r\n            }\r\n        ],\r\n        \"links\": [\r\n            {\r\n                \"title\": \"pdf\",\r\n                \"link\": \"www.example.com\"\r\n            },\r\n            {\r\n                \"title\": \"doc\",\r\n                \"link\": \"www.example.com\"\r\n            }\r\n        ],\r\n        \"municipality\": {\r\n            \"id\": 1\r\n        },\r\n        \"categories\": {\r\n            \"id\": 1\r\n        },\r\n        \"tags\": {\r\n            \"id\": 1\r\n        }\r\n    }\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:1337/api/projects",
							"host": [
								"localhost"
							],
							"port": "1337",
							"path": [
								"api",
								"projects"
							]
						}
					},
					"response": []
				},
				{
					"name": "Specific project details",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "localhost:1337/api/projects/5",
							"host": [
								"localhost"
							],
							"port": "1337",
							"path": [
								"api",
								"projects",
								"5"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "user center",
			"item": [
				{
					"name": "register",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var reqBody = JSON.parse(pm.request.body.raw);\r",
									"pm.collectionVariables.set(\"email\", reqBody.email);\r",
									"pm.collectionVariables.set(\"password\", reqBody.password);\r",
									"var jsonData = pm.response.json();\r",
									"pm.collectionVariables.set(\"jwt\", jsonData.jwt);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\": \"user00885\",\r\n    \"email\": \"alameen.azad235@kruschecompany.com\",\r\n    \"password\": \"123456\",\r\n    \"administration\": 1\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:1337/api/auth/local/register",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "1337",
							"path": [
								"api",
								"auth",
								"local",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();\r",
									"pm.collectionVariables.set(\"jwt\", jsonData.jwt);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"identifier\": \"admin@test.com\",\r\n    \"password\": \"123456\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:1337/api/auth/local",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "1337",
							"path": [
								"api",
								"auth",
								"local"
							]
						}
					},
					"response": []
				},
				{
					"name": "user-details",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "localhost:1337/api/user-details?populate=*",
							"host": [
								"localhost"
							],
							"port": "1337",
							"path": [
								"api",
								"user-details"
							],
							"query": [
								{
									"key": "populate",
									"value": "*"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "add user-details",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"data\": {\r\n        \"fullName\": \"bilend57\",\r\n        \"phone\": \"666666\",\r\n        \"location\": \"Nali\"\r\n    }\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:1337/api/user-details",
							"host": [
								"localhost"
							],
							"port": "1337",
							"path": [
								"api",
								"user-details"
							]
						}
					},
					"response": []
				},
				{
					"name": "users",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "localhost:1337/api/users",
							"host": [
								"localhost"
							],
							"port": "1337",
							"path": [
								"api",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "invite user",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"username\":\"test2\",\r\n    \"email\":\"alameen.azad@pm.me\",\r\n    \"role\":\"admin\", \r\n    \"municipality\": {\r\n        \"id\":1\r\n    } ,\r\n    \"message\": \"Welcome to amt viol\",\r\n    \"password\": \"123456\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:1337/api/users",
							"host": [
								"localhost"
							],
							"port": "1337",
							"path": [
								"api",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "forgot password",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"alameen.azad@pm.me\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:1337/api/auth/forgot-password",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "1337",
							"path": [
								"api",
								"auth",
								"forgot-password"
							]
						}
					},
					"response": []
				},
				{
					"name": "reset-password",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"code\": \"64ca68dad2ba0f3833e2259685aa4bdc6d1880ac97fc8b7b4252b42da850df775b53cd25c8acd2791b64aaee750bfc9b4d87a6173bc3e514489d64e205f182b9\",\r\n    \"password\": \"123456\",\r\n    \"passwordConfirmation\": \"123456\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:1337/api/auth/reset-password",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "1337",
							"path": [
								"api",
								"auth",
								"reset-password"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "tags",
			"item": [
				{
					"name": "Tags",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "localhost:1337/api/tags?populate=*",
							"host": [
								"localhost"
							],
							"port": "1337",
							"path": [
								"api",
								"tags"
							],
							"query": [
								{
									"key": "populate",
									"value": "*"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Tags",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"data\": {\r\n        \"title\": \"tag001\"\r\n    }\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:1337/api/tags",
							"host": [
								"localhost"
							],
							"port": "1337",
							"path": [
								"api",
								"tags"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "categories",
			"item": [
				{
					"name": "Categories",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "localhost:1337/api/categories?populate=*",
							"host": [
								"localhost"
							],
							"port": "1337",
							"path": [
								"api",
								"categories"
							],
							"query": [
								{
									"key": "populate",
									"value": "*"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Categories",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"data\": {\r\n        \"title\": \"asdlkajsdlk\"\r\n    }\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:1337/api/categories",
							"host": [
								"localhost"
							],
							"port": "1337",
							"path": [
								"api",
								"categories"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "municipality",
			"item": [
				{
					"name": "municipality",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "localhost:1337/api/municipalities",
							"host": [
								"localhost"
							],
							"port": "1337",
							"path": [
								"api",
								"municipalities"
							]
						}
					},
					"response": []
				},
				{
					"name": "municipalities",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"data\": {\r\n        \"title\": \"municipality001\"\r\n    }\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:1337/api/municipalities",
							"host": [
								"localhost"
							],
							"port": "1337",
							"path": [
								"api",
								"municipalities"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "watchlist",
			"item": [
				{
					"name": "watchlist",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "localhost:1337/api/watchlists?populate=*",
							"host": [
								"localhost"
							],
							"port": "1337",
							"path": [
								"api",
								"watchlists"
							],
							"query": [
								{
									"key": "populate",
									"value": "*"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Requests that need approval",
			"item": [
				{
					"name": "request",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "localhost:1337/api/requests?populate=*",
							"host": [
								"localhost"
							],
							"port": "1337",
							"path": [
								"api",
								"requests"
							],
							"query": [
								{
									"key": "populate",
									"value": "*"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "localhost:1337/api/requests/1",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"data\":{\r\n        \"approved\":true\r\n    }\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "localhost:1337/api/requests/1",
							"host": [
								"localhost"
							],
							"port": "1337",
							"path": [
								"api",
								"requests",
								"1"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "upload",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "ref",
							"value": "api::project.project",
							"description": "name of the api",
							"type": "text"
						},
						{
							"key": "refId",
							"value": "3",
							"description": "after you create an entry you get it's id then you put it here",
							"type": "text"
						},
						{
							"key": "field",
							"value": "uploads",
							"description": "the field name of the images in the API [ in this case in API projects, the image field is named uploads ]",
							"type": "text"
						},
						{
							"key": "files",
							"description": "the files you want to uplaod",
							"type": "file",
							"src": [
								"/C:/Users/User/Downloads/67A6598B-36C4-4912-82E0-5B3CA52C2A32.mp4",
								"/C:/Users/User/Downloads/MicrosoftTeams-image (4).png",
								"/C:/Users/User/Downloads/MicrosoftTeams-image (3).png"
							]
						}
					]
				},
				"url": {
					"raw": "localhost:1337/api/upload",
					"host": [
						"localhost"
					],
					"port": "1337",
					"path": [
						"api",
						"upload"
					]
				}
			},
			"response": []
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{jwt}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "email",
			"value": "null",
			"type": "string"
		},
		{
			"key": "password",
			"value": "null",
			"type": "string"
		},
		{
			"key": "jwt",
			"value": "",
			"type": "string"
		}
	]
}